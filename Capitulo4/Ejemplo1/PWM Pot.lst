CCS PCM C Compiler, Version 5.015, 5967               07-jul-20 23:34

               Filename:   C:\Users\CQ43\Documents\Curso Pic CCS\21-30\PWM\PWM Pot\PWM Pot.lst

               ROM used:   960 words (12%)
                           Largest free fragment is 2048
               RAM used:   13 (4%) at main() level
                           53 (14%) worst case
               Stack used: 2 locations
               Stack size: 8

*
0000:  MOVLW  03
0001:  MOVWF  0A
0002:  GOTO   345
0003:  NOP
.................... #include <16f877a.h> 
.................... //////////// Standard Header file for the PIC16F877A device //////////////// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996, 2013 Custom Computer Services          //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... #device PIC16F877A 
0004:  MOVLW  8E
0005:  MOVWF  77
0006:  MOVF   25,W
0007:  MOVWF  78
0008:  MOVF   24,W
0009:  MOVWF  79
000A:  CLRF   7A
000B:  MOVF   78,F
000C:  BTFSS  03.2
000D:  GOTO   018
000E:  MOVF   79,W
000F:  MOVWF  78
0010:  CLRF   79
0011:  MOVLW  08
0012:  SUBWF  77,F
0013:  MOVF   78,F
0014:  BTFSS  03.2
0015:  GOTO   018
0016:  CLRF   77
0017:  GOTO   020
0018:  BCF    03.0
0019:  BTFSC  78.7
001A:  GOTO   01F
001B:  RLF    79,F
001C:  RLF    78,F
001D:  DECF   77,F
001E:  GOTO   018
001F:  BCF    78.7
0020:  BCF    0A.3
0021:  BCF    0A.4
0022:  GOTO   38B (RETURN)
0023:  MOVLW  80
0024:  BTFSC  03.1
0025:  XORWF  45,F
0026:  CLRF   4A
0027:  CLRF   4B
0028:  MOVF   41,W
0029:  MOVWF  49
002A:  MOVF   45,W
002B:  XORWF  49,F
002C:  MOVF   40,W
002D:  BTFSC  03.2
002E:  GOTO   113
002F:  MOVWF  48
0030:  MOVWF  77
0031:  MOVF   44,W
0032:  BTFSC  03.2
0033:  GOTO   11C
0034:  SUBWF  48,F
0035:  BTFSC  03.2
0036:  GOTO   0B8
0037:  BTFSS  03.0
0038:  GOTO   076
0039:  MOVF   45,W
003A:  MOVWF  4E
003B:  BSF    4E.7
003C:  MOVF   46,W
003D:  MOVWF  4D
003E:  MOVF   47,W
003F:  MOVWF  4C
0040:  CLRF   4B
0041:  BCF    03.0
0042:  RRF    4E,F
0043:  RRF    4D,F
0044:  RRF    4C,F
0045:  RRF    4B,F
0046:  DECFSZ 48,F
0047:  GOTO   040
0048:  BTFSS  49.7
0049:  GOTO   04D
004A:  BSF    4A.0
004B:  GOTO   130
004C:  BCF    4A.0
004D:  BCF    48.0
004E:  BSF    4A.4
004F:  MOVLW  43
0050:  MOVWF  04
0051:  BCF    03.7
0052:  GOTO   145
0053:  BCF    4A.4
0054:  BTFSC  49.7
0055:  GOTO   060
0056:  BTFSS  48.0
0057:  GOTO   06B
0058:  RRF    4E,F
0059:  RRF    4D,F
005A:  RRF    4C,F
005B:  RRF    4B,F
005C:  INCF   77,F
005D:  BTFSC  03.2
005E:  GOTO   12B
005F:  GOTO   06B
0060:  BTFSC  4E.7
0061:  GOTO   06E
0062:  BCF    03.0
0063:  RLF    4B,F
0064:  RLF    4C,F
0065:  RLF    4D,F
0066:  RLF    4E,F
0067:  DECF   77,F
0068:  BTFSC  03.2
0069:  GOTO   12B
006A:  GOTO   060
006B:  BSF    4A.6
006C:  GOTO   0D8
006D:  BCF    4A.6
006E:  MOVF   41,W
006F:  MOVWF  49
0070:  BTFSS  49.7
0071:  GOTO   074
0072:  BSF    4E.7
0073:  GOTO   124
0074:  BCF    4E.7
0075:  GOTO   124
0076:  MOVF   44,W
0077:  MOVWF  48
0078:  MOVWF  77
0079:  MOVF   40,W
007A:  SUBWF  48,F
007B:  MOVF   41,W
007C:  MOVWF  4E
007D:  BSF    4E.7
007E:  MOVF   42,W
007F:  MOVWF  4D
0080:  MOVF   43,W
0081:  MOVWF  4C
0082:  CLRF   4B
0083:  BCF    03.0
0084:  RRF    4E,F
0085:  RRF    4D,F
0086:  RRF    4C,F
0087:  RRF    4B,F
0088:  DECFSZ 48,F
0089:  GOTO   082
008A:  BTFSS  49.7
008B:  GOTO   08F
008C:  BSF    4A.1
008D:  GOTO   130
008E:  BCF    4A.1
008F:  BCF    48.0
0090:  BSF    4A.5
0091:  MOVLW  47
0092:  MOVWF  04
0093:  BCF    03.7
0094:  GOTO   145
0095:  BCF    4A.5
0096:  BTFSC  49.7
0097:  GOTO   0A2
0098:  BTFSS  48.0
0099:  GOTO   0AD
009A:  RRF    4E,F
009B:  RRF    4D,F
009C:  RRF    4C,F
009D:  RRF    4B,F
009E:  INCF   77,F
009F:  BTFSC  03.2
00A0:  GOTO   12B
00A1:  GOTO   0AD
00A2:  BTFSC  4E.7
00A3:  GOTO   0B0
00A4:  BCF    03.0
00A5:  RLF    4B,F
00A6:  RLF    4C,F
00A7:  RLF    4D,F
00A8:  RLF    4E,F
00A9:  DECF   77,F
00AA:  BTFSC  03.2
00AB:  GOTO   12B
00AC:  GOTO   0A2
00AD:  BSF    4A.7
00AE:  GOTO   0D8
00AF:  BCF    4A.7
00B0:  MOVF   45,W
00B1:  MOVWF  49
00B2:  BTFSS  49.7
00B3:  GOTO   0B6
00B4:  BSF    4E.7
00B5:  GOTO   124
00B6:  BCF    4E.7
00B7:  GOTO   124
00B8:  MOVF   45,W
00B9:  MOVWF  4E
00BA:  BSF    4E.7
00BB:  MOVF   46,W
00BC:  MOVWF  4D
00BD:  MOVF   47,W
00BE:  MOVWF  4C
00BF:  BTFSS  49.7
00C0:  GOTO   0C5
00C1:  BCF    4E.7
00C2:  BSF    4A.2
00C3:  GOTO   130
00C4:  BCF    4A.2
00C5:  CLRF   4B
00C6:  BCF    48.0
00C7:  MOVLW  43
00C8:  MOVWF  04
00C9:  BCF    03.7
00CA:  GOTO   145
00CB:  BTFSC  49.7
00CC:  GOTO   0EE
00CD:  MOVF   41,W
00CE:  MOVWF  49
00CF:  BTFSS  48.0
00D0:  GOTO   0D8
00D1:  RRF    4E,F
00D2:  RRF    4D,F
00D3:  RRF    4C,F
00D4:  RRF    4B,F
00D5:  INCF   77,F
00D6:  BTFSC  03.2
00D7:  GOTO   12B
00D8:  BTFSS  4B.7
00D9:  GOTO   0E9
00DA:  INCF   4C,F
00DB:  BTFSS  03.2
00DC:  GOTO   0E9
00DD:  INCF   4D,F
00DE:  BTFSS  03.2
00DF:  GOTO   0E9
00E0:  INCF   4E,F
00E1:  BTFSS  03.2
00E2:  GOTO   0E9
00E3:  RRF    4E,F
00E4:  RRF    4D,F
00E5:  RRF    4C,F
00E6:  INCF   77,F
00E7:  BTFSC  03.2
00E8:  GOTO   12B
00E9:  BTFSC  4A.6
00EA:  GOTO   06D
00EB:  BTFSC  4A.7
00EC:  GOTO   0AF
00ED:  GOTO   10D
00EE:  MOVLW  80
00EF:  XORWF  4E,F
00F0:  BTFSS  4E.7
00F1:  GOTO   0F6
00F2:  GOTO   130
00F3:  MOVF   45,W
00F4:  MOVWF  49
00F5:  GOTO   103
00F6:  MOVF   41,W
00F7:  MOVWF  49
00F8:  MOVF   4E,F
00F9:  BTFSS  03.2
00FA:  GOTO   103
00FB:  MOVF   4D,F
00FC:  BTFSS  03.2
00FD:  GOTO   103
00FE:  MOVF   4C,F
00FF:  BTFSS  03.2
0100:  GOTO   103
0101:  CLRF   77
0102:  GOTO   124
0103:  BTFSC  4E.7
0104:  GOTO   10D
0105:  BCF    03.0
0106:  RLF    4B,F
0107:  RLF    4C,F
0108:  RLF    4D,F
0109:  RLF    4E,F
010A:  DECFSZ 77,F
010B:  GOTO   103
010C:  GOTO   12B
010D:  BTFSS  49.7
010E:  GOTO   111
010F:  BSF    4E.7
0110:  GOTO   124
0111:  BCF    4E.7
0112:  GOTO   124
0113:  MOVF   44,W
0114:  MOVWF  77
0115:  MOVF   45,W
0116:  MOVWF  4E
0117:  MOVF   46,W
0118:  MOVWF  4D
0119:  MOVF   47,W
011A:  MOVWF  4C
011B:  GOTO   124
011C:  MOVF   40,W
011D:  MOVWF  77
011E:  MOVF   41,W
011F:  MOVWF  4E
0120:  MOVF   42,W
0121:  MOVWF  4D
0122:  MOVF   43,W
0123:  MOVWF  4C
0124:  MOVF   4E,W
0125:  MOVWF  78
0126:  MOVF   4D,W
0127:  MOVWF  79
0128:  MOVF   4C,W
0129:  MOVWF  7A
012A:  GOTO   163
012B:  CLRF   77
012C:  CLRF   78
012D:  CLRF   79
012E:  CLRF   7A
012F:  GOTO   163
0130:  CLRF   4B
0131:  COMF   4C,F
0132:  COMF   4D,F
0133:  COMF   4E,F
0134:  COMF   4B,F
0135:  INCF   4B,F
0136:  BTFSS  03.2
0137:  GOTO   13E
0138:  INCF   4C,F
0139:  BTFSS  03.2
013A:  GOTO   13E
013B:  INCF   4D,F
013C:  BTFSC  03.2
013D:  INCF   4E,F
013E:  BTFSC  4A.0
013F:  GOTO   04C
0140:  BTFSC  4A.1
0141:  GOTO   08E
0142:  BTFSC  4A.2
0143:  GOTO   0C4
0144:  GOTO   0F3
0145:  MOVF   00,W
0146:  ADDWF  4C,F
0147:  BTFSS  03.0
0148:  GOTO   14F
0149:  INCF   4D,F
014A:  BTFSS  03.2
014B:  GOTO   14F
014C:  INCF   4E,F
014D:  BTFSC  03.2
014E:  BSF    48.0
014F:  DECF   04,F
0150:  MOVF   00,W
0151:  ADDWF  4D,F
0152:  BTFSS  03.0
0153:  GOTO   157
0154:  INCF   4E,F
0155:  BTFSC  03.2
0156:  BSF    48.0
0157:  DECF   04,F
0158:  MOVF   00,W
0159:  BTFSS  00.7
015A:  XORLW  80
015B:  ADDWF  4E,F
015C:  BTFSC  03.0
015D:  BSF    48.0
015E:  BTFSC  4A.4
015F:  GOTO   053
0160:  BTFSC  4A.5
0161:  GOTO   095
0162:  GOTO   0CB
0163:  RETURN
*
01A0:  MOVF   40,W
01A1:  BTFSC  03.2
01A2:  GOTO   210
01A3:  MOVWF  48
01A4:  MOVF   44,W
01A5:  BTFSC  03.2
01A6:  GOTO   210
01A7:  ADDWF  48,F
01A8:  BTFSC  03.0
01A9:  GOTO   1B1
01AA:  MOVLW  7F
01AB:  SUBWF  48,F
01AC:  BTFSS  03.0
01AD:  GOTO   210
01AE:  BTFSC  03.2
01AF:  GOTO   210
01B0:  GOTO   1B5
01B1:  MOVLW  81
01B2:  ADDWF  48,F
01B3:  BTFSC  03.0
01B4:  GOTO   210
01B5:  MOVF   48,W
01B6:  MOVWF  77
01B7:  CLRF   78
01B8:  CLRF   79
01B9:  CLRF   7A
01BA:  MOVF   41,W
01BB:  MOVWF  4C
01BC:  BSF    4C.7
01BD:  MOVF   42,W
01BE:  MOVWF  4B
01BF:  MOVF   43,W
01C0:  MOVWF  4A
01C1:  MOVLW  18
01C2:  MOVWF  48
01C3:  CLRF   49
01C4:  BTFSS  4A.0
01C5:  GOTO   1DE
01C6:  MOVF   47,W
01C7:  ADDWF  7A,F
01C8:  BTFSS  03.0
01C9:  GOTO   1D0
01CA:  INCF   79,F
01CB:  BTFSS  03.2
01CC:  GOTO   1D0
01CD:  INCF   78,F
01CE:  BTFSC  03.2
01CF:  BSF    49.7
01D0:  MOVF   46,W
01D1:  ADDWF  79,F
01D2:  BTFSS  03.0
01D3:  GOTO   1D7
01D4:  INCF   78,F
01D5:  BTFSC  03.2
01D6:  BSF    49.7
01D7:  MOVF   45,W
01D8:  MOVWF  42
01D9:  BSF    42.7
01DA:  MOVF   42,W
01DB:  ADDWF  78,F
01DC:  BTFSC  03.0
01DD:  BSF    49.7
01DE:  RLF    49,F
01DF:  RRF    78,F
01E0:  RRF    79,F
01E1:  RRF    7A,F
01E2:  RRF    4C,F
01E3:  RRF    4B,F
01E4:  RRF    4A,F
01E5:  BCF    03.0
01E6:  DECFSZ 48,F
01E7:  GOTO   1C3
01E8:  MOVLW  01
01E9:  ADDWF  77,F
01EA:  BTFSC  03.0
01EB:  GOTO   210
01EC:  BTFSC  78.7
01ED:  GOTO   1F5
01EE:  RLF    4C,F
01EF:  RLF    7A,F
01F0:  RLF    79,F
01F1:  RLF    78,F
01F2:  DECF   77,F
01F3:  BTFSC  03.2
01F4:  GOTO   210
01F5:  BTFSS  4C.7
01F6:  GOTO   206
01F7:  INCF   7A,F
01F8:  BTFSS  03.2
01F9:  GOTO   206
01FA:  INCF   79,F
01FB:  BTFSS  03.2
01FC:  GOTO   206
01FD:  INCF   78,F
01FE:  BTFSS  03.2
01FF:  GOTO   206
0200:  RRF    78,F
0201:  RRF    79,F
0202:  RRF    7A,F
0203:  INCF   77,F
0204:  BTFSC  03.2
0205:  GOTO   210
0206:  MOVF   41,W
0207:  MOVWF  49
0208:  MOVF   45,W
0209:  XORWF  49,F
020A:  BTFSS  49.7
020B:  GOTO   20E
020C:  BSF    78.7
020D:  GOTO   214
020E:  BCF    78.7
020F:  GOTO   214
0210:  CLRF   77
0211:  CLRF   78
0212:  CLRF   79
0213:  CLRF   7A
*
023E:  MOVF   40,W
023F:  BTFSC  03.2
0240:  GOTO   303
0241:  MOVWF  4C
0242:  MOVF   44,W
0243:  BTFSC  03.2
0244:  GOTO   303
0245:  SUBWF  4C,F
0246:  BTFSS  03.0
0247:  GOTO   24D
0248:  MOVLW  7F
0249:  ADDWF  4C,F
024A:  BTFSC  03.0
024B:  GOTO   303
024C:  GOTO   253
024D:  MOVLW  81
024E:  SUBWF  4C,F
024F:  BTFSS  03.0
0250:  GOTO   303
0251:  BTFSC  03.2
0252:  GOTO   303
0253:  MOVF   4C,W
0254:  MOVWF  77
0255:  CLRF   78
0256:  CLRF   79
0257:  CLRF   7A
0258:  CLRF   4B
0259:  MOVF   41,W
025A:  MOVWF  4A
025B:  BSF    4A.7
025C:  MOVF   42,W
025D:  MOVWF  49
025E:  MOVF   43,W
025F:  MOVWF  48
0260:  MOVLW  19
0261:  MOVWF  4C
0262:  MOVF   47,W
0263:  SUBWF  48,F
0264:  BTFSC  03.0
0265:  GOTO   276
0266:  MOVLW  01
0267:  SUBWF  49,F
0268:  BTFSC  03.0
0269:  GOTO   276
026A:  SUBWF  4A,F
026B:  BTFSC  03.0
026C:  GOTO   276
026D:  SUBWF  4B,F
026E:  BTFSC  03.0
026F:  GOTO   276
0270:  INCF   4B,F
0271:  INCF   4A,F
0272:  INCF   49,F
0273:  MOVF   47,W
0274:  ADDWF  48,F
0275:  GOTO   2A8
0276:  MOVF   46,W
0277:  SUBWF  49,F
0278:  BTFSC  03.0
0279:  GOTO   291
027A:  MOVLW  01
027B:  SUBWF  4A,F
027C:  BTFSC  03.0
027D:  GOTO   291
027E:  SUBWF  4B,F
027F:  BTFSC  03.0
0280:  GOTO   291
0281:  INCF   4B,F
0282:  INCF   4A,F
0283:  MOVF   46,W
0284:  ADDWF  49,F
0285:  MOVF   47,W
0286:  ADDWF  48,F
0287:  BTFSS  03.0
0288:  GOTO   2A8
0289:  INCF   49,F
028A:  BTFSS  03.2
028B:  GOTO   2A8
028C:  INCF   4A,F
028D:  BTFSS  03.2
028E:  GOTO   2A8
028F:  INCF   4B,F
0290:  GOTO   2A8
0291:  MOVF   45,W
0292:  IORLW  80
0293:  SUBWF  4A,F
0294:  BTFSC  03.0
0295:  GOTO   2A7
0296:  MOVLW  01
0297:  SUBWF  4B,F
0298:  BTFSC  03.0
0299:  GOTO   2A7
029A:  INCF   4B,F
029B:  MOVF   45,W
029C:  IORLW  80
029D:  ADDWF  4A,F
029E:  MOVF   46,W
029F:  ADDWF  49,F
02A0:  BTFSS  03.0
02A1:  GOTO   285
02A2:  INCF   4A,F
02A3:  BTFSS  03.2
02A4:  GOTO   285
02A5:  INCF   4B,F
02A6:  GOTO   285
02A7:  BSF    7A.0
02A8:  DECFSZ 4C,F
02A9:  GOTO   2AB
02AA:  GOTO   2B6
02AB:  BCF    03.0
02AC:  RLF    48,F
02AD:  RLF    49,F
02AE:  RLF    4A,F
02AF:  RLF    4B,F
02B0:  BCF    03.0
02B1:  RLF    7A,F
02B2:  RLF    79,F
02B3:  RLF    78,F
02B4:  RLF    4D,F
02B5:  GOTO   262
02B6:  BTFSS  4D.0
02B7:  GOTO   2BE
02B8:  BCF    03.0
02B9:  RRF    78,F
02BA:  RRF    79,F
02BB:  RRF    7A,F
02BC:  RRF    4D,F
02BD:  GOTO   2C1
02BE:  DECF   77,F
02BF:  BTFSC  03.2
02C0:  GOTO   303
02C1:  BTFSC  4D.7
02C2:  GOTO   2EA
02C3:  BCF    03.0
02C4:  RLF    48,F
02C5:  RLF    49,F
02C6:  RLF    4A,F
02C7:  RLF    4B,F
02C8:  MOVF   47,W
02C9:  SUBWF  48,F
02CA:  BTFSC  03.0
02CB:  GOTO   2D6
02CC:  MOVLW  01
02CD:  SUBWF  49,F
02CE:  BTFSC  03.0
02CF:  GOTO   2D6
02D0:  SUBWF  4A,F
02D1:  BTFSC  03.0
02D2:  GOTO   2D6
02D3:  SUBWF  4B,F
02D4:  BTFSS  03.0
02D5:  GOTO   2F9
02D6:  MOVF   46,W
02D7:  SUBWF  49,F
02D8:  BTFSC  03.0
02D9:  GOTO   2E1
02DA:  MOVLW  01
02DB:  SUBWF  4A,F
02DC:  BTFSC  03.0
02DD:  GOTO   2E1
02DE:  SUBWF  4B,F
02DF:  BTFSS  03.0
02E0:  GOTO   2F9
02E1:  MOVF   45,W
02E2:  IORLW  80
02E3:  SUBWF  4A,F
02E4:  BTFSC  03.0
02E5:  GOTO   2EA
02E6:  MOVLW  01
02E7:  SUBWF  4B,F
02E8:  BTFSS  03.0
02E9:  GOTO   2F9
02EA:  INCF   7A,F
02EB:  BTFSS  03.2
02EC:  GOTO   2F9
02ED:  INCF   79,F
02EE:  BTFSS  03.2
02EF:  GOTO   2F9
02F0:  INCF   78,F
02F1:  BTFSS  03.2
02F2:  GOTO   2F9
02F3:  INCF   77,F
02F4:  BTFSC  03.2
02F5:  GOTO   303
02F6:  RRF    78,F
02F7:  RRF    79,F
02F8:  RRF    7A,F
02F9:  MOVF   41,W
02FA:  MOVWF  4C
02FB:  MOVF   45,W
02FC:  XORWF  4C,F
02FD:  BTFSS  4C.7
02FE:  GOTO   301
02FF:  BSF    78.7
0300:  GOTO   307
0301:  BCF    78.7
0302:  GOTO   307
0303:  CLRF   77
0304:  CLRF   78
0305:  CLRF   79
0306:  CLRF   7A
*
0324:  MOVLW  8E
0325:  MOVWF  77
0326:  MOVF   24,W
0327:  SUBWF  77,F
0328:  MOVF   25,W
0329:  MOVWF  79
032A:  MOVF   26,W
032B:  MOVWF  78
032C:  BSF    79.7
032D:  MOVF   77,F
032E:  BTFSC  03.2
032F:  GOTO   33B
0330:  BCF    03.0
0331:  MOVF   79,F
0332:  BTFSS  03.2
0333:  GOTO   337
0334:  MOVF   78,F
0335:  BTFSC  03.2
0336:  GOTO   33B
0337:  RRF    79,F
0338:  RRF    78,F
0339:  DECFSZ 77,F
033A:  GOTO   330
033B:  BTFSS  25.7
033C:  GOTO   342
033D:  COMF   78,F
033E:  COMF   79,F
033F:  INCF   78,F
0340:  BTFSC  03.2
0341:  INCF   79,F
0342:  BCF    0A.3
0343:  BCF    0A.4
0344:  GOTO   3BA (RETURN)
....................  
.................... #list 
....................  
.................... #device ADC = 10 
.................... #fuses HS,NOWDT,NOPROTECT,NOPUT,NOLVP,BROWNOUT 
.................... #use delay(clock=20M) 
.................... #include <map_function.c> 
.................... // #include <map_function.c> 
....................  
.................... double map(float valor, float entradaMin, float entradaMax, float salidaMin, float salidaMax) 
.................... { 
....................    return((((valor-entradaMin)*(salidaMax-salidaMin))/(entradaMax-entradaMin))+salidaMin); 
*
0164:  BSF    03.1
0165:  MOVF   2B,W
0166:  MOVWF  43
0167:  MOVF   2A,W
0168:  MOVWF  42
0169:  MOVF   29,W
016A:  MOVWF  41
016B:  MOVF   28,W
016C:  MOVWF  40
016D:  MOVF   2F,W
016E:  MOVWF  47
016F:  MOVF   2E,W
0170:  MOVWF  46
0171:  MOVF   2D,W
0172:  MOVWF  45
0173:  MOVF   2C,W
0174:  MOVWF  44
0175:  CALL   023
0176:  MOVF   7A,W
0177:  MOVWF  3F
0178:  MOVF   79,W
0179:  MOVWF  3E
017A:  MOVF   78,W
017B:  MOVWF  3D
017C:  MOVF   77,W
017D:  MOVWF  3C
017E:  BSF    03.1
017F:  MOVF   3B,W
0180:  MOVWF  43
0181:  MOVF   3A,W
0182:  MOVWF  42
0183:  MOVF   39,W
0184:  MOVWF  41
0185:  MOVF   38,W
0186:  MOVWF  40
0187:  MOVF   37,W
0188:  MOVWF  47
0189:  MOVF   36,W
018A:  MOVWF  46
018B:  MOVF   35,W
018C:  MOVWF  45
018D:  MOVF   34,W
018E:  MOVWF  44
018F:  CALL   023
0190:  MOVF   3F,W
0191:  MOVWF  43
0192:  MOVF   3E,W
0193:  MOVWF  42
0194:  MOVF   3D,W
0195:  MOVWF  41
0196:  MOVF   3C,W
0197:  MOVWF  40
0198:  MOVF   7A,W
0199:  MOVWF  47
019A:  MOVF   79,W
019B:  MOVWF  46
019C:  MOVF   78,W
019D:  MOVWF  45
019E:  MOVF   77,W
019F:  MOVWF  44
*
0214:  MOVF   7A,W
0215:  MOVWF  3F
0216:  MOVF   79,W
0217:  MOVWF  3E
0218:  MOVF   78,W
0219:  MOVWF  3D
021A:  MOVF   77,W
021B:  MOVWF  3C
021C:  BSF    03.1
021D:  MOVF   33,W
021E:  MOVWF  43
021F:  MOVF   32,W
0220:  MOVWF  42
0221:  MOVF   31,W
0222:  MOVWF  41
0223:  MOVF   30,W
0224:  MOVWF  40
0225:  MOVF   2F,W
0226:  MOVWF  47
0227:  MOVF   2E,W
0228:  MOVWF  46
0229:  MOVF   2D,W
022A:  MOVWF  45
022B:  MOVF   2C,W
022C:  MOVWF  44
022D:  CALL   023
022E:  MOVF   3F,W
022F:  MOVWF  43
0230:  MOVF   3E,W
0231:  MOVWF  42
0232:  MOVF   3D,W
0233:  MOVWF  41
0234:  MOVF   3C,W
0235:  MOVWF  40
0236:  MOVF   7A,W
0237:  MOVWF  47
0238:  MOVF   79,W
0239:  MOVWF  46
023A:  MOVF   78,W
023B:  MOVWF  45
023C:  MOVF   77,W
023D:  MOVWF  44
*
0307:  MOVF   7A,W
0308:  MOVWF  3F
0309:  MOVF   79,W
030A:  MOVWF  3E
030B:  MOVF   78,W
030C:  MOVWF  3D
030D:  MOVF   77,W
030E:  MOVWF  3C
030F:  BCF    03.1
0310:  MOVF   7A,W
0311:  MOVWF  43
0312:  MOVF   79,W
0313:  MOVWF  42
0314:  MOVF   78,W
0315:  MOVWF  41
0316:  MOVF   77,W
0317:  MOVWF  40
0318:  MOVF   37,W
0319:  MOVWF  47
031A:  MOVF   36,W
031B:  MOVWF  46
031C:  MOVF   35,W
031D:  MOVWF  45
031E:  MOVF   34,W
031F:  MOVWF  44
0320:  CALL   023
0321:  BCF    0A.3
0322:  BCF    0A.4
0323:  GOTO   3B1 (RETURN)
.................... } 
....................  
.................... unsigned long map16(int16 valor, int16 entradaMin, int16 entradaMax, int16 salidaMin, int16 salidaMax) 
.................... { 
....................    return((((valor-entradaMin)*(salidaMax-salidaMin))/(entradaMax-entradaMin))+salidaMin); 
.................... } 
....................  
....................  
.................... long valor_adc; 
.................... int valor_pwm; 
....................  
.................... void main() 
*
0345:  MOVF   03,W
0346:  ANDLW  1F
0347:  MOVWF  03
0348:  MOVLW  FF
0349:  MOVWF  23
034A:  BSF    03.5
034B:  BSF    1F.0
034C:  BSF    1F.1
034D:  BSF    1F.2
034E:  BCF    1F.3
034F:  MOVLW  07
0350:  MOVWF  1C
0351:  BCF    03.7
.................... { 
....................    setup_timer_2(t2_div_by_16, 255, 1);         // Configura timer 2 
0352:  MOVLW  00
0353:  MOVWF  78
0354:  IORLW  06
0355:  BCF    03.5
0356:  MOVWF  12
0357:  MOVLW  FF
0358:  BSF    03.5
0359:  MOVWF  12
....................    setup_ccp1(ccp_pwm);                         // Configura modulo CCP1 como pwm 
035A:  BCF    03.5
035B:  BCF    23.2
035C:  MOVF   23,W
035D:  BSF    03.5
035E:  MOVWF  07
035F:  BCF    03.5
0360:  BCF    07.2
0361:  MOVLW  0C
0362:  MOVWF  17
....................    setup_adc_ports(AN0);                        // ADC canal 0 
0363:  BSF    03.5
0364:  BCF    1F.0
0365:  BSF    1F.1
0366:  BSF    1F.2
0367:  BSF    1F.3
....................    setup_adc(adc_clock_internal);               // Reloj interno para conversion del ADC 
0368:  BCF    1F.6
0369:  BCF    03.5
036A:  BSF    1F.6
036B:  BSF    1F.7
036C:  BSF    03.5
036D:  BSF    1F.7
036E:  BCF    03.5
036F:  BSF    1F.0
....................    set_pwm1_duty(0);                            // Inicia el pwm 1 en 0 
0370:  CLRF   15
....................     
....................    while(true) 
....................    { 
....................       set_adc_channel(0); 
0371:  MOVLW  00
0372:  MOVWF  78
0373:  MOVF   1F,W
0374:  ANDLW  C7
0375:  IORWF  78,W
0376:  MOVWF  1F
....................       delay_us(2); 
0377:  MOVLW  02
0378:  MOVWF  77
0379:  DECFSZ 77,F
037A:  GOTO   379
037B:  GOTO   37C
037C:  NOP
....................       valor_adc = read_adc(); 
037D:  BSF    1F.2
037E:  BTFSC  1F.2
037F:  GOTO   37E
0380:  BSF    03.5
0381:  MOVF   1E,W
0382:  BCF    03.5
0383:  MOVWF  20
0384:  MOVF   1E,W
0385:  MOVWF  21
....................       valor_pwm = map(valor_adc, 0, 1023, 0, 255); 
0386:  MOVF   21,W
0387:  MOVWF  25
0388:  MOVF   20,W
0389:  MOVWF  24
038A:  GOTO   004
038B:  MOVF   7A,W
038C:  MOVWF  27
038D:  MOVF   79,W
038E:  MOVWF  26
038F:  MOVF   78,W
0390:  MOVWF  25
0391:  MOVF   77,W
0392:  MOVWF  24
0393:  MOVF   7A,W
0394:  MOVWF  2B
0395:  MOVF   79,W
0396:  MOVWF  2A
0397:  MOVF   78,W
0398:  MOVWF  29
0399:  MOVF   77,W
039A:  MOVWF  28
039B:  CLRF   2F
039C:  CLRF   2E
039D:  CLRF   2D
039E:  CLRF   2C
039F:  CLRF   33
03A0:  MOVLW  C0
03A1:  MOVWF  32
03A2:  MOVLW  7F
03A3:  MOVWF  31
03A4:  MOVLW  88
03A5:  MOVWF  30
03A6:  CLRF   37
03A7:  CLRF   36
03A8:  CLRF   35
03A9:  CLRF   34
03AA:  CLRF   3B
03AB:  CLRF   3A
03AC:  MOVLW  7F
03AD:  MOVWF  39
03AE:  MOVLW  86
03AF:  MOVWF  38
03B0:  GOTO   164
03B1:  MOVF   7A,W
03B2:  MOVWF  27
03B3:  MOVF   79,W
03B4:  MOVWF  26
03B5:  MOVF   78,W
03B6:  MOVWF  25
03B7:  MOVF   77,W
03B8:  MOVWF  24
03B9:  GOTO   324
03BA:  MOVF   78,W
03BB:  MOVWF  22
....................       set_pwm1_duty(valor_pwm); 
03BC:  MOVF   22,W
03BD:  MOVWF  15
03BE:  GOTO   371
....................    } 
.................... } 
03BF:  SLEEP

Configuration Fuses:
   Word  1: 3F7A   HS NOWDT NOPUT BROWNOUT NOLVP NOCPD NOWRT NODEBUG NOPROTECT
